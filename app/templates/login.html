<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#06091a">
    <title>Cardiac Monitor Pro — Sign In</title>
    <meta name="description" content="Secure login for the Advanced Cardiac Abnormality Detection System.">
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            height: 100%;
        }

        :root {
            --primary: #00d4ff;
            --primary-dk: #0099cc;
            --secondary: #00ffc8;
            --accent: #a78bfa;
            --danger: #ff4757;
            --success: #26de81;
            --warning: #ffa500;
            --bg: #06091a;
            --bg-2: #0d1127;
            --bg-3: #131829;
            --surface: rgba(19, 24, 41, .82);
            --surface-hi: rgba(30, 38, 65, .96);
            --txt: #f0f4ff;
            --txt-2: #b8c4e0;
            --txt-3: #6b7db3;
            --border: rgba(0, 212, 255, .14);
            --border-hi: rgba(0, 212, 255, .42);
            --glow-p: 0 0 32px rgba(0, 212, 255, .50);
            --grad-p: linear-gradient(135deg, #00d4ff 0%, #00ffc8 100%);
            --grad-pp: linear-gradient(135deg, #00d4ff 0%, #a78bfa 55%, #00ffc8 100%);
            --ease: cubic-bezier(.4, 0, .2, 1);
            --ease-spring: cubic-bezier(.34, 1.56, .64, 1);
        }

        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: var(--bg);
            color: var(--txt);
            height: 100vh;
            display: flex;
            overflow: hidden;
        }

        /* ── Ambient background ──────────────────────────────────── */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background:
                radial-gradient(ellipse 70% 65% at 20% 50%, rgba(0, 212, 255, .13) 0%, transparent 65%),
                radial-gradient(ellipse 55% 50% at 80% 20%, rgba(0, 255, 200, .09) 0%, transparent 65%),
                radial-gradient(ellipse 45% 45% at 55% 90%, rgba(167, 139, 250, .09) 0%, transparent 65%);
            animation: bgPulse 9s ease-in-out infinite alternate;
            pointer-events: none;
            z-index: 0;
        }

        /* ECG grid */
        body::after {
            content: '';
            position: fixed;
            inset: 0;
            background-image:
                linear-gradient(rgba(0, 212, 255, .022) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, .022) 1px, transparent 1px);
            background-size: 48px 48px;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes bgPulse {
            from {
                opacity: .7;
                transform: scale(1);
            }

            to {
                opacity: 1;
                transform: scale(1.04);
            }
        }

        /* ── Layout: split ─────────────────────────────────────── */
        .login-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            height: 100vh;
            width: 100%;
            position: relative;
            z-index: 2;
        }

        /* ── LEFT PANEL ───────────────────────────────────────── */
        .left-panel {
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 2rem 3rem;
            position: relative;
            overflow: hidden;
            background: linear-gradient(145deg,
                    rgba(0, 212, 255, .055) 0%,
                    rgba(6, 9, 26, .0) 60%,
                    rgba(167, 139, 250, .04) 100%);
            border-right: 1px solid var(--border);
        }

        /* Animated cyan spotlight on left panel */
        .left-panel::before {
            content: '';
            position: absolute;
            width: 600px;
            height: 600px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(0, 212, 255, .09) 0%, transparent 70%);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: spotlightPulse 6s ease-in-out infinite alternate;
            pointer-events: none;
        }

        @keyframes spotlightPulse {
            from {
                transform: translate(-60%, -55%) scale(1);
            }

            to {
                transform: translate(-40%, -45%) scale(1.15);
            }
        }

        /* Brand */
        .brand-block {
            display: flex;
            align-items: center;
            gap: .85rem;
            margin-bottom: 1.4rem;
            position: relative;
            z-index: 1;
        }

        .brand-heart {
            width: 56px;
            height: 56px;
            background: radial-gradient(circle, rgba(255, 71, 87, .18), rgba(0, 0, 0, 0));
            border: 2px solid rgba(255, 71, 87, .30);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: heartbeat 1.4s ease-in-out infinite;
            flex-shrink: 0;
        }

        .brand-heart svg {
            stroke: var(--danger);
            filter: drop-shadow(0 0 14px rgba(255, 71, 87, .70));
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: scale(1);
            }

            14% {
                transform: scale(1.24);
            }

            28% {
                transform: scale(1);
            }

            42% {
                transform: scale(1.14);
            }

            70% {
                transform: scale(1);
            }
        }

        .brand-text h1 {
            font-family: 'Outfit', sans-serif;
            font-size: 1.6rem;
            font-weight: 900;
            letter-spacing: -.3px;
            background: var(--grad-pp);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 200% 200%;
            animation: gradShift 5s ease infinite;
        }

        .brand-text p {
            font-size: .82rem;
            color: var(--txt-3);
            font-weight: 500;
            letter-spacing: .4px;
            margin-top: .15rem;
        }

        @keyframes gradShift {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        /* Headline */
        .left-headline {
            position: relative;
            z-index: 1;
            margin-bottom: 1.4rem;
        }

        .left-headline h2 {
            font-family: 'Outfit', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            line-height: 1.15;
            letter-spacing: -.4px;
            color: var(--txt);
            margin-bottom: .6rem;
        }

        .left-headline h2 span {
            background: var(--grad-p);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .left-headline p {
            font-size: 1rem;
            color: var(--txt-2);
            line-height: 1.6;
            max-width: 420px;
        }

        /* Feature list */
        .feature-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: .5rem;
            position: relative;
            z-index: 1;
            margin-bottom: 1.4rem;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: .75rem;
            padding: .6rem .9rem;
            background: rgba(0, 212, 255, .04);
            border: 1px solid var(--border);
            border-radius: 12px;
            transition: all .3s var(--ease);
        }

        .feature-item:hover {
            border-color: var(--border-hi);
            background: rgba(0, 212, 255, .08);
            transform: translateX(6px);
        }

        .feature-icon {
            width: 32px;
            height: 32px;
            flex-shrink: 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        .feature-icon--cyan {
            background: rgba(0, 212, 255, .14);
            color: var(--primary);
        }

        .feature-icon--mint {
            background: rgba(0, 255, 200, .12);
            color: var(--secondary);
        }

        .feature-icon--purple {
            background: rgba(167, 139, 250, .13);
            color: var(--accent);
        }

        .feature-icon--red {
            background: rgba(255, 71, 87, .12);
            color: var(--danger);
        }

        .feature-text strong {
            display: block;
            font-size: .95rem;
            font-weight: 700;
            color: var(--txt);
        }

        .feature-text span {
            font-size: .8rem;
            color: var(--txt-3);
        }

        /* Live ECG strip — bottom of left panel */
        .ecg-strip {
            position: relative;
            z-index: 1;
            height: 72px;
            background: rgba(0, 212, 255, 0.04);
            border: 1px solid rgba(0, 212, 255, 0.18);
            border-radius: 14px;
            overflow: hidden;
            backdrop-filter: blur(8px);
        }

        .ecg-strip canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        /* Version tag */
        .version-tag {
            position: absolute;
            bottom: 1rem;
            left: 3rem;
            font-size: .65rem;
            color: var(--txt-3);
            font-family: 'JetBrains Mono', monospace;
            letter-spacing: .5px;
        }

        /* ── RIGHT PANEL ───────────────────────────────────────── */
        .right-panel {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2rem;
            position: relative;
            overflow-y: auto;
        }

        /* Particles */
        .particles {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: var(--primary);
            opacity: .28;
            box-shadow: 0 0 8px var(--primary);
            animation: particleFloat 20s infinite ease-in-out;
        }

        @keyframes particleFloat {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
                opacity: .28;
            }

            50% {
                transform: translate(40px, -80px) scale(1.7);
                opacity: .55;
            }
        }

        /* ── Login Card ─────────────────────────────────────────── */
        .login-card {
            width: 100%;
            max-width: 460px;
            background: var(--surface);
            backdrop-filter: blur(36px) saturate(200%);
            -webkit-backdrop-filter: blur(36px) saturate(200%);
            border: 1.5px solid var(--border-hi);
            border-radius: 22px;
            padding: 1.8rem 2.2rem 1.5rem;
            box-shadow: 0 0 0 1px rgba(0, 212, 255, .06),
                0 20px 60px rgba(0, 0, 0, .75),
                var(--glow-p);
            position: relative;
            z-index: 2;
            animation: cardIn .6s var(--ease-spring);
        }

        /* Top shine line */
        .login-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 15%;
            right: 15%;
            height: 1.5px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            border-radius: 28px 28px 0 0;
        }

        @keyframes cardIn {
            from {
                transform: translateY(36px) scale(.95);
                opacity: 0;
            }

            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        /* Card header */
        .card-header {
            text-align: center;
            margin-bottom: 1.4rem;
        }

        .card-header h2 {
            font-family: 'Outfit', sans-serif;
            font-size: 1.75rem;
            font-weight: 900;
            color: var(--txt);
            letter-spacing: -.2px;
            margin-bottom: .25rem;
        }

        .card-header p {
            font-size: .88rem;
            color: var(--txt-3);
            font-weight: 500;
        }

        /* Flash messages */
        .flash {
            padding: .6rem .9rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            font-size: .8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: .5rem;
        }

        .flash--error {
            background: rgba(255, 71, 87, .12);
            border: 1px solid rgba(255, 71, 87, .4);
            color: var(--danger);
        }

        .flash--success {
            background: rgba(38, 222, 129, .12);
            border: 1px solid rgba(38, 222, 129, .4);
            color: var(--success);
        }

        /* Form groups */
        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            font-size: .8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.1px;
            color: var(--txt-3);
            margin-bottom: .5rem;
        }

        .input-wrap {
            position: relative;
        }

        .input-icon {
            position: absolute;
            left: .95rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--txt-3);
            pointer-events: none;
            transition: color .25s;
        }

        .input-wrap:focus-within .input-icon {
            color: var(--primary);
        }

        input[type="text"],
        input[type="password"] {
            width: 100%;
            background: rgba(30, 38, 65, .75);
            border: 1.5px solid var(--border);
            border-radius: 12px;
            color: var(--txt);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            padding: .82rem 1rem .82rem 2.65rem;
            outline: none;
            transition: border-color .3s, box-shadow .3s, background .3s;
        }

        input[type="text"]:focus,
        input[type="password"]:focus {
            border-color: var(--primary);
            background: rgba(30, 38, 65, .95);
            box-shadow: 0 0 0 3px rgba(0, 212, 255, .18), var(--glow-p);
        }

        input::placeholder {
            color: var(--txt-3);
        }

        /* Password toggle */
        .toggle-pw {
            position: absolute;
            right: .85rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--txt-3);
            cursor: pointer;
            padding: .3rem;
            border-radius: 6px;
            transition: color .25s;
            display: flex;
            align-items: center;
        }

        .toggle-pw:hover {
            color: var(--primary);
        }

        /* Remember / options row */
        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.1rem;
        }

        .remember-label {
            display: flex;
            align-items: center;
            gap: .5rem;
            color: var(--txt-2);
            cursor: pointer;
            font-size: .9rem;
            font-weight: 500;
        }

        .remember-label input[type="checkbox"] {
            display: none;
        }

        .checkmark {
            width: 18px;
            height: 18px;
            border: 1.5px solid var(--border-hi);
            border-radius: 5px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all .25s var(--ease);
            flex-shrink: 0;
        }

        .remember-label input:checked+.checkmark {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 212, 255, .45);
        }

        .remember-label input:checked+.checkmark::after {
            content: '✓';
            color: #000;
            font-size: 11px;
            font-weight: 900;
        }

        /* Submit */
        .btn-login {
            width: 100%;
            padding: .875rem;
            background: var(--grad-p);
            border: none;
            border-radius: 12px;
            color: #000;
            font-family: 'Outfit', sans-serif;
            font-size: 1.05rem;
            font-weight: 800;
            cursor: pointer;
            letter-spacing: .3px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: .6rem;
            box-shadow: 0 6px 28px rgba(0, 212, 255, .40);
            transition: all .3s var(--ease);
            position: relative;
            overflow: hidden;
        }

        .btn-login::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, .22), transparent);
            opacity: 0;
            transition: opacity .3s;
        }

        .btn-login:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(0, 212, 255, .70);
        }

        .btn-login:hover::after {
            opacity: 1;
        }

        .btn-login:active {
            transform: translateY(-1px);
        }

        /* Divider */
        .divider {
            display: flex;
            align-items: center;
            gap: .9rem;
            margin: 1rem 0;
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border);
        }

        .divider span {
            color: var(--txt-3);
            font-size: .68rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            white-space: nowrap;
        }

        /* ── Quick Access Grid ─────────────────────────────────── */
        .quick-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: .45rem;
        }

        .quick-btn {
            background: rgba(0, 212, 255, .05);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--txt-2);
            padding: .6rem .8rem;
            cursor: pointer;
            text-align: left;
            transition: all .25s var(--ease);
            font-family: 'Inter', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .quick-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--grad-p);
            opacity: 0;
            transition: opacity .3s;
            border-radius: inherit;
        }

        .quick-btn>* {
            position: relative;
            z-index: 1;
        }

        .quick-btn:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 212, 255, .20);
        }

        .quick-btn:hover>* {
            color: #000;
        }

        .quick-btn:hover .qa-badge {
            opacity: 1 !important;
        }

        .quick-btn:hover::before {
            opacity: 1;
        }

        .qa-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: .25rem;
        }

        .qa-name {
            font-size: .8rem;
            font-weight: 700;
            color: var(--txt);
            display: flex;
            align-items: center;
            gap: .4rem;
        }

        .qa-cred {
            font-family: 'JetBrains Mono', monospace;
            font-size: .62rem;
            color: var(--txt-3);
            display: block;
            margin-bottom: .2rem;
        }

        .qa-badge {
            display: inline-flex;
            align-items: center;
            gap: .25rem;
            font-size: .6rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: .6px;
            padding: .18rem .48rem;
            border-radius: 999px;
        }

        /* ── Auth Tabs ───────────────────────────────────────── */
        .auth-tabs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            background: rgba(0, 0, 0, .3);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 3px;
            margin-bottom: 1.4rem;
        }

        .auth-tab {
            background: none;
            border: none;
            color: var(--txt-3);
            font-family: 'Inter', sans-serif;
            font-size: .92rem;
            font-weight: 600;
            padding: .6rem .5rem;
            border-radius: 9px;
            cursor: pointer;
            transition: all .25s var(--ease);
            text-align: center;
        }

        .auth-tab.active {
            background: var(--surface-hi);
            color: var(--primary);
            box-shadow: 0 2px 10px rgba(0, 0, 0, .4);
        }

        /* Panels */
        .auth-panel {
            display: none;
        }

        .auth-panel.active {
            display: block;
        }

        /* Two-column row inside signup form */
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: .55rem;
            margin-bottom: 1rem;
        }

        .form-row .form-group {
            margin-bottom: 0;
        }

        /* Role select */
        select.form-input {
            width: 100%;
            background: rgba(30, 38, 65, .75);
            border: 1.5px solid var(--border);
            border-radius: 12px;
            color: var(--txt);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            padding: .82rem 1rem .82rem 2.65rem;
            outline: none;
            appearance: none;
            cursor: pointer;
            transition: border-color .3s, box-shadow .3s;
        }

        select.form-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 212, 255, .18);
        }

        select.form-input option {
            background: #131829;
        }

        /* Username tag under the field */
        .username-hint {
            font-size: .78rem;
            color: var(--txt-3);
            margin-top: .3rem;
            padding-left: .2rem;
        }

        .username-hint strong {
            color: var(--primary);
        }

        /* Footer */
        .card-footer {
            text-align: center;
            margin-top: 1rem;
            color: var(--txt-3);
            font-size: .67rem;
            line-height: 1.6;
        }

        .card-footer a {
            color: var(--primary);
            text-decoration: none;
        }

        .card-footer a:hover {
            text-decoration: underline;
        }

        /* ── Scrollbar ──────────────────────────────────────────── */
        ::-webkit-scrollbar {
            width: 5px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-2);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-dk);
            border-radius: 10px;
        }

        /* ── Responsive ─────────────────────────────────────────── */
        @media (max-width: 860px) {
            .login-layout {
                grid-template-columns: 1fr;
            }

            .left-panel {
                display: none;
            }

            .right-panel {
                padding: 2rem 1.5rem;
                align-items: flex-start;
                padding-top: 10vh;
            }
        }
    </style>
</head>

<body>

    <!-- Particles -->
    <div class="particles" id="particlesContainer" aria-hidden="true"></div>

    <div class="login-layout">

        <!-- ── LEFT PANEL ──────────────────────────────────────── -->
        <aside class="left-panel" aria-hidden="true">

            <div class="brand-block">
                <div class="brand-heart">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path
                            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
                    </svg>
                </div>
                <div class="brand-text">
                    <h1>Cardiac Monitor Pro</h1>
                    <p>Advanced Cardiac Abnormality Detection System</p>
                </div>
            </div>

            <div class="left-headline">
                <h2>Intelligent<br><span>Cardiac Analysis</span><br>at your fingertips.</h2>
                <p>AI-powered ECG interpretation with real-time monitoring, explainable predictions, and comprehensive
                    patient history — trusted by cardiologists.</p>
            </div>

            <ul class="feature-list">
                <li class="feature-item">
                    <div class="feature-icon feature-icon--cyan">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
                        </svg>
                    </div>
                    <div class="feature-text">
                        <strong>Real-Time ECG Monitoring</strong>
                        <span>WebSocket-powered live stream analysis</span>
                    </div>
                </li>
                <li class="feature-item">
                    <div class="feature-icon feature-icon--mint">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <line x1="12" y1="8" x2="12" y2="12" />
                            <line x1="12" y1="16" x2="12.01" y2="16" />
                        </svg>
                    </div>
                    <div class="feature-text">
                        <strong>Explainable AI (XAI)</strong>
                        <span>Grad-CAM heatmaps & SHAP feature scores</span>
                    </div>
                </li>
                <li class="feature-item">
                    <div class="feature-icon feature-icon--purple">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                            <circle cx="9" cy="7" r="4" />
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                            <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                        </svg>
                    </div>
                    <div class="feature-text">
                        <strong>Patient History & Analytics</strong>
                        <span>Risk trend charts & timeline records</span>
                    </div>
                </li>
                <li class="feature-item">
                    <div class="feature-icon feature-icon--red">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                            <polyline points="14 2 14 8 20 8" />
                        </svg>
                    </div>
                    <div class="feature-text">
                        <strong>PDF Diagnostic Reports</strong>
                        <span>Clinical recommendations with confidence scores</span>
                    </div>
                </li>
            </ul>

            <!-- Live ECG strip -->
            <div class="ecg-strip" aria-hidden="true">
                <canvas id="ecgCanvas"></canvas>
            </div>

            <div class="version-tag">v3.0 · MongoDB · WebSocket · Ensemble AI</div>

        </aside>

        <!-- ── RIGHT PANEL ─────────────────────────────────────── -->
        <main class="right-panel" role="main">
            <div class="login-card">

                <div class="card-header">
                    <h2 id="cardTitle">Welcome back</h2>
                    <p id="cardSub">Sign in to access the cardiac monitoring system</p>
                </div>

                <!-- Flash messages -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                {% for category, message in messages %}
                <div class="flash flash--{{ 'error' if category == 'error' else 'success' }}" role="alert">
                    {{ '&#9888;' if category == 'error' else '&#10003;' }} {{ message | safe }}
                </div>
                {% endfor %}
                {% endif %}
                {% endwith %}

                <!-- Tabs -->
                <div class="auth-tabs" role="tablist">
                    <button class="auth-tab active" id="tabSignIn" role="tab" aria-selected="true"
                        aria-controls="panelSignIn" onclick="switchTab('signin')">Sign In</button>
                    <button class="auth-tab" id="tabSignUp" role="tab" aria-selected="false" aria-controls="panelSignUp"
                        onclick="switchTab('signup')">Create Account</button>
                </div>
                <!-- ── SIGN IN PANEL ── -->
                <div class="auth-panel active" id="panelSignIn" role="tabpanel">
                    <form method="POST" action="/login" id="loginForm" novalidate>

                        <div class="form-group">
                            <label class="form-label" for="username">Username</label>
                            <div class="input-wrap">
                                <span class="input-icon" aria-hidden="true">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                        <circle cx="12" cy="7" r="4" />
                                    </svg>
                                </span>
                                <input type="text" id="username" name="username" placeholder="Enter your username"
                                    value="{{ request.form.get('username', '') }}" autocomplete="username" required
                                    autofocus aria-label="Username">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="password">Password</label>
                            <div class="input-wrap">
                                <span class="input-icon" aria-hidden="true">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                                    </svg>
                                </span>
                                <input type="password" id="password" name="password" placeholder="Enter your password"
                                    autocomplete="current-password" required aria-label="Password">
                                <button type="button" class="toggle-pw" id="togglePw"
                                    aria-label="Toggle password visibility">
                                    <svg id="eyeIcon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                                        stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                        <circle cx="12" cy="12" r="3" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="form-options">
                            <label class="remember-label" for="remember">
                                <input type="checkbox" id="remember" name="remember">
                                <span class="checkmark"></span>
                                Remember me for 7 days
                            </label>
                        </div>

                        <button type="submit" class="btn-login" id="submitSignIn">
                            <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2.5" aria-hidden="true">
                                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
                                <polyline points="10 17 15 12 10 7" />
                                <line x1="15" y1="12" x2="3" y2="12" />
                            </svg>
                            Sign In to Dashboard
                        </button>
                    </form>
                </div>

                <!-- ── SIGN UP PANEL ── -->
                <div class="auth-panel" id="panelSignUp" role="tabpanel">
                    <form method="POST" action="/register" id="signupForm" novalidate>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="first_name">First Name</label>
                                <div class="input-wrap">
                                    <span class="input-icon" aria-hidden="true">
                                        <svg width="15" height="15" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                            <circle cx="12" cy="7" r="4" />
                                        </svg>
                                    </span>
                                    <input type="text" id="first_name" name="first_name" placeholder="First"
                                        autocomplete="given-name" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="last_name">Last Name</label>
                                <div class="input-wrap">
                                    <span class="input-icon" aria-hidden="true">
                                        <svg width="15" height="15" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                            <circle cx="12" cy="7" r="4" />
                                        </svg>
                                    </span>
                                    <input type="text" id="last_name" name="last_name" placeholder="Last"
                                        autocomplete="family-name" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="su_role">Role / Designation</label>
                            <div class="input-wrap">
                                <span class="input-icon" aria-hidden="true">
                                    <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
                                        <polyline points="22 4 12 14.01 9 11.01" />
                                    </svg>
                                </span>
                                <select class="form-input" id="su_role" name="role" required>
                                    <option value="" disabled selected>Select your role…</option>
                                    <option value="doctor">Doctor</option>
                                    <option value="cardiologist">Cardiologist</option>
                                    <option value="ecg analyst">ECG Analyst</option>
                                    <option value="nurse">Nurse</option>
                                    <option value="administrator">Administrator</option>
                                    <option value="researcher">Researcher</option>
                                    <option value="student">Student</option>
                                    <option value="viewer">Viewer</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="su_username">Username</label>
                            <div class="input-wrap">
                                <span class="input-icon" aria-hidden="true">
                                    <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                        <circle cx="12" cy="7" r="4" />
                                    </svg>
                                </span>
                                <input type="text" id="su_username" name="username" placeholder="Choose a username"
                                    autocomplete="username" required>
                            </div>
                            <p class="username-hint" id="usernameHint"></p>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="su_password">Password</label>
                                <div class="input-wrap">
                                    <span class="input-icon" aria-hidden="true">
                                        <svg width="15" height="15" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                                            <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                                        </svg>
                                    </span>
                                    <input type="password" id="su_password" name="password" placeholder="Min 6 chars"
                                        required>
                                    <button type="button" class="toggle-pw" id="toggleSuPw" aria-label="Show password">
                                        <svg id="suEyeIcon" width="15" height="15" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                            <circle cx="12" cy="12" r="3" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="su_confirm">Confirm</label>
                                <div class="input-wrap">
                                    <span class="input-icon" aria-hidden="true">
                                        <svg width="15" height="15" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M9 11l3 3L22 4" />
                                            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
                                        </svg>
                                    </span>
                                    <input type="password" id="su_confirm" name="confirm" placeholder="Repeat password"
                                        required>
                                    <button type="button" class="toggle-pw" id="toggleSuConfirm"
                                        aria-label="Show confirm password">
                                        <svg id="suConfirmEyeIcon" width="15" height="15" viewBox="0 0 24 24"
                                            fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                            <circle cx="12" cy="12" r="3" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn-login" id="submitSignUp" style="margin-top:.35rem">
                            <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2.5" aria-hidden="true">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                                <circle cx="8.5" cy="7" r="4" />
                                <line x1="20" y1="8" x2="20" y2="14" />
                                <line x1="23" y1="11" x2="17" y2="11" />
                            </svg>
                            Create Account
                        </button>
                    </form>
                </div>

                <div class="card-footer">
                    ⚠️ Secure medical system — authorised personnel only.<br>
                    All activity is logged and monitored.
                </div>

            </div>
        </main>

    </div>

    <script>
        // ── Particles ──────────────────────────────────────────────────
        (function () {
            const c = document.getElementById('particlesContainer');
            for (let i = 0; i < 18; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                const s = 2 + Math.random() * 3;
                Object.assign(p.style, {
                    left: Math.random() * 100 + '%',
                    top: Math.random() * 100 + '%',
                    width: s + 'px', height: s + 'px',
                    animationDelay: Math.random() * 18 + 's',
                    animationDuration: (16 + Math.random() * 10) + 's',
                });
                c.appendChild(p);
            }
        })();

        // ── Tab switch ────────────────────────────────────────────────
        function switchTab(tab) {
            const isSignup = tab === 'signup';
            document.getElementById('tabSignIn').classList.toggle('active', !isSignup);
            document.getElementById('tabSignUp').classList.toggle('active', isSignup);
            document.getElementById('panelSignIn').classList.toggle('active', !isSignup);
            document.getElementById('panelSignUp').classList.toggle('active', isSignup);
            // Update header text
            document.getElementById('cardTitle').textContent = isSignup ? 'Create Account' : 'Welcome back';
            document.getElementById('cardSub').textContent = isSignup
                ? 'Join the cardiac monitoring system'
                : 'Sign in to access the cardiac monitoring system';
        }

        // Open signup tab if URL says ?tab=signup
        if (new URLSearchParams(location.search).get('tab') === 'signup') {
            switchTab('signup');
        }

        // ── Auto-generate username suggestion ───────────────────────────
        function refreshSuggestion() {
            const f = document.getElementById('first_name').value.trim().toLowerCase();
            const l = document.getElementById('last_name').value.trim().toLowerCase();
            const un = document.getElementById('su_username');
            const hint = document.getElementById('usernameHint');
            if (f || l) {
                const suggested = (f ? f[0] : '') + l;
                if (!un._touched) un.value = suggested;
                hint.innerHTML = suggested ? `Suggested: <strong>${suggested}</strong>` : '';
            } else { hint.textContent = ''; }
        }

        document.getElementById('first_name').addEventListener('input', refreshSuggestion);
        document.getElementById('last_name').addEventListener('input', refreshSuggestion);
        document.getElementById('su_username').addEventListener('input', function () {
            this._touched = this.value !== '';
        });

        // ── Password show/hide (sign-in) ──────────────────────────────
        const pwInput = document.getElementById('password');
        const togglePw = document.getElementById('togglePw');
        const eyeIcon = document.getElementById('eyeIcon');
        togglePw.addEventListener('click', () => {
            const show = pwInput.type === 'password';
            pwInput.type = show ? 'text' : 'password';
            eyeIcon.innerHTML = show
                ? '<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/>'
                : '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>';
        });

        // ── Password show/hide (sign-up password) ───────────────────────
        const suPwInput = document.getElementById('su_password');
        const suConfirmInput = document.getElementById('su_confirm');

        function makePwToggle(btn, input, iconEl) {
            btn.addEventListener('click', () => {
                const show = input.type === 'password';
                input.type = show ? 'text' : 'password';
                iconEl.innerHTML = show
                    ? '<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/>'
                    : '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>';
            });
        }

        makePwToggle(
            document.getElementById('toggleSuPw'),
            suPwInput,
            document.getElementById('suEyeIcon')
        );
        makePwToggle(
            document.getElementById('toggleSuConfirm'),
            suConfirmInput,
            document.getElementById('suConfirmEyeIcon')
        );

        // ── Loading states ──────────────────────────────────────────────
        const spinnerSVG = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="animation:spin .7s linear infinite"><line x1="12" y1="2" x2="12" y2="6"/><line x1="12" y1="18" x2="12" y2="22"/><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"/><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"/><line x1="2" y1="12" x2="6" y2="12"/><line x1="18" y1="12" x2="22" y2="12"/><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"/><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"/></svg>';

        document.getElementById('loginForm').addEventListener('submit', () => {
            const btn = document.getElementById('submitSignIn');
            btn.disabled = true;
            btn.innerHTML = spinnerSVG + ' Signing in…';
        });

        document.getElementById('signupForm').addEventListener('submit', () => {
            const btn = document.getElementById('submitSignUp');
            btn.disabled = true;
            btn.innerHTML = spinnerSVG + ' Creating account…';
        });

        // ── ECG Strip Tracer ───────────────────────────────────────
        (function () {
            const canvas = document.getElementById('ecgCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const DPR = window.devicePixelRatio || 1;

            function resize() {
                const rect = canvas.parentElement.getBoundingClientRect();
                canvas.width = rect.width * DPR;
                canvas.height = rect.height * DPR;
                ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
            }
            resize();
            window.addEventListener('resize', () => { resize(); x = 0; prevY = null; });

            const W = () => canvas.width / DPR;
            const H = () => canvas.height / DPR;

            // PQRST waveform
            function buildBeat(len) {
                const pts = new Float32Array(len);
                const segs = [
                    { t: 0.12, amp: 0.00 },
                    { t: 0.17, amp: 0.22 },   // P-wave
                    { t: 0.22, amp: 0.00 },
                    { t: 0.30, amp: 0.00 },
                    { t: 0.34, amp: -0.12 },   // Q dip
                    { t: 0.38, amp: 1.00 },   // R peak
                    { t: 0.41, amp: -0.20 },   // S dip
                    { t: 0.46, amp: 0.00 },
                    { t: 0.58, amp: 0.00 },
                    { t: 0.64, amp: 0.32 },   // T-wave
                    { t: 0.74, amp: 0.00 },
                    { t: 1.00, amp: 0.00 },
                ];
                for (let i = 0; i < len; i++) {
                    const frac = i / len;
                    let lo = segs[0], hi = segs[segs.length - 1];
                    for (let s = 0; s < segs.length - 1; s++) {
                        if (frac >= segs[s].t && frac <= segs[s + 1].t) {
                            lo = segs[s]; hi = segs[s + 1]; break;
                        }
                    }
                    const t = (hi.t === lo.t) ? 0 : (frac - lo.t) / (hi.t - lo.t);
                    const e = t * t * (3 - 2 * t);
                    pts[i] = lo.amp + (hi.amp - lo.amp) * e;
                }
                return pts;
            }

            const BEAT_PX = 280, ERASER_W = 20;
            const beat = buildBeat(BEAT_PX);
            let sampleIdx = 0, x = 0, prevY = null;
            let lastTime = null, pxAccum = 0;

            // ECG paper grid (themed cyan, no black)
            function drawGrid() {
                const w = W(), h = H();
                ctx.strokeStyle = 'rgba(0, 212, 255, 0.10)';
                ctx.lineWidth = 0.5;
                for (let gx = 0; gx < w; gx += 10) { ctx.beginPath(); ctx.moveTo(gx, 0); ctx.lineTo(gx, h); ctx.stroke(); }
                for (let gy = 0; gy < h; gy += 10) { ctx.beginPath(); ctx.moveTo(0, gy); ctx.lineTo(w, gy); ctx.stroke(); }
                ctx.strokeStyle = 'rgba(0, 212, 255, 0.22)';
                ctx.lineWidth = 0.8;
                for (let gx = 0; gx < w; gx += 50) { ctx.beginPath(); ctx.moveTo(gx, 0); ctx.lineTo(gx, h); ctx.stroke(); }
                for (let gy = 0; gy < h; gy += 50) { ctx.beginPath(); ctx.moveTo(0, gy); ctx.lineTo(w, gy); ctx.stroke(); }
            }

            function frame(ts) {
                if (!lastTime) lastTime = ts;
                const dt = Math.min(ts - lastTime, 50);
                lastTime = ts;

                const w = W(), h = H();
                const mid = h / 2, amp = h * 0.40;

                pxAccum += 72 * (dt / 1000);
                const steps = Math.floor(pxAccum);
                pxAccum -= steps;

                for (let s = 0; s < steps; s++) {
                    // Eraser sweep (no black — clearRect shows the strip's CSS bg)
                    ctx.clearRect(x, 0, ERASER_W, h);
                    ctx.save();
                    ctx.beginPath(); ctx.rect(x, 0, ERASER_W, h); ctx.clip();
                    drawGrid();
                    ctx.restore();

                    const sample = beat[sampleIdx % BEAT_PX];
                    sampleIdx = (sampleIdx + 1) % BEAT_PX;
                    const y = mid - sample * amp;

                    if (prevY !== null) {
                        // Soft glow layer
                        ctx.beginPath();
                        ctx.strokeStyle = 'rgba(0,212,255,0.22)';
                        ctx.lineWidth = 5;
                        ctx.moveTo(x - 1, prevY); ctx.lineTo(x, y); ctx.stroke();
                        // Sharp bright line
                        ctx.beginPath();
                        ctx.strokeStyle = 'rgba(0,212,255,0.95)';
                        ctx.lineWidth = 1.8;
                        ctx.shadowColor = 'rgba(0,212,255,0.8)';
                        ctx.shadowBlur = 8;
                        ctx.moveTo(x - 1, prevY); ctx.lineTo(x, y); ctx.stroke();
                        ctx.shadowBlur = 0;
                    }

                    // Glowing cursor dot
                    ctx.beginPath();
                    ctx.arc(x, y, 3, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(0,255,210,0.95)';
                    ctx.shadowColor = 'rgba(0,212,255,1)';
                    ctx.shadowBlur = 14;
                    ctx.fill();
                    ctx.shadowBlur = 0;

                    prevY = y;
                    x = (x + 1) % Math.ceil(w);
                    if (x === 0) prevY = null;
                }
                requestAnimationFrame(frame);
            }

            drawGrid();
            requestAnimationFrame(frame);
        })();
    </script>

    <style>
        @keyframes spin {
            from {
                transform: rotate(0deg)
            }

            to {
                transform: rotate(360deg)
            }
        }
    </style>

</body>

</html>